# Maintainer: ArchAssault <team@archassault.org>
pkgname=dff
pkgver=1.3.0
pkgrel=1
arch=('i686' 'x86_64' 'armv6h' 'armv7h')
groups=('archassault')
pkgdesc="Digital Forensic Framework"
url='http://www.digital-forensic.org'
license=('GPL2')
depends=('swig' 'python' 'python-magic' 'python-pyqt4')
makedepends=('cmake' 'doxygen')
source=("dff-$pkgver.tar.gz")
sha512sums=('a77aa517a4b87939cc584b88f3ab60c625ed36eab5ba58ba56a34a4cc426f1bc69465febe76e4f0ea5682f6078ac7c9e5d5a3e27f66f957770b07cd8e800da03')

prepare() {
  sed -i 's|2.0.7|2.0.12|' "$srcdir"/dff-"$pkgver"/CMakeLists.txt
}

build() {
  cd "$srcdir/dff-$pkgver"
  cmake -DINSTALL=TRUE -DCMAKE_INSTALL_PREFIX=/usr .
  make
}

package() {
  cd "$srcdir/gsd-$pkgver"
  make DESTDIR="$pkgdir/" install
  install -Dm644 LICENSE "$pkgdir"/usr/share/licenses/dff/LICENSE
  install -m644 LICENSE-THIRDPARTY "$pkgidr"/usr/share/licenses/dff/LICENSE-THIRDPARTY
}
