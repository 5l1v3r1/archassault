# Maintainer: ArchAssault <team@archassualt.org>
pkgname=lte-cell-scanner
_pkgname=LTE-Cell-Scanner
pkgver=0.0.5
pkgrel=1
groups=('archassault' 'archassault-scanner' 'archassault-hardware')
pkgdesc="An OpenCL, TD-LTE and external LNB supports to LTE SDR cell scanner (optimized to work with RTL-SDR dongle and HACKRF board)"
arch=('i686' 'x86_64' 'armv6h' 'armv7h')
url="https://github.com/JiaoXianjun/LTE-Cell-Scanner"
license=('GPL3')
if [[ $CARCH == 'x86_64' ]]; then
      depends=('itpp' 'libcl' 'boost-libs' 'gcc-libs-multilib' 'rtl-sdr' 'fftw')
else  
      depends=('itpp' 'libcl' 'boost-libs' 'gcc-libs' 'rtl-sdr' 'fftw')
fi
makedepends=('cmake')
source=("https://github.com/JiaoXianjun/LTE-Cell-Scanner/archive/v$pkgver.tar.gz")
sha512sums=('24f92f57b8ce40b7ba3a1cefc7750057465bbecc404ceaa24b7f03d9c52cc5e480e264cf3ba0fe14f145ae5b8044ca8ebbbe1386f56764d27f8aa94f1450a240')

build() {
  cd $srcdir/$_pkgname-$pkgver
  mkdir -p build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr ..
  make
}

package() {
  cd $srcdir/$_pkgname-$pkgver/build
  make DESTDIR=$pkgdir install 
}
