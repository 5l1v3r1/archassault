# Maintainer: ArchAssault <team@archassault>
#Automatically generated by pip2arch on 2014-08-22

pkgname=python2-pybloom
pkgver=2.0
pkgrel=1
pkgdesc="PyBloom: A Probabilistic data structure"
url="http://github.com/jaybaird/python-bloomfilter/"
depends=('python2' 'python2-bitarray')
makedepends=('python2-setuptools')
license=('MIT')
arch=('any')
source=("https://github.com/jaybaird/python-bloomfilter/archive/v$pkgver.tar.gz")
sha512sums=('d3293797c863ade61fd35a52455c252e498c19a4f0bea595d38b1204f8132b164189e542c380715d52472f285fa3337f2826e4632aba625cb15cc5d6171d7435')

prepare(){
  grep -iRl 'python' "$srcdir/python-bloomfilter-$pkgver" | xargs sed -i 's|#!.*/usr/bin/python|#!/usr/bin/python2|;s|#!.*/usr/bin/env python$|#!/usr/bin/env python2|'
}


build() {
  cd $srcdir/python-bloomfilter-$pkgver
  python2 setup.py build
}

package() {
  cd $srcdir/python-bloomfilter-$pkgver
  python2 setup.py install --root="$pkgdir" --optimize=1
  install -Dm644 LICENSE.txt "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
